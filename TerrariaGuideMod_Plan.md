# ğŸ§™ Terraria AI å‘å¯¼ç³»ç»Ÿ Mod è§„åˆ’æ–‡æ¡£

> **é¡¹ç›®åç§°**: GuideAI / AIå‘å¯¼ / æ™ºèƒ½å‘å¯¼  
> **ç›®æ ‡**: è§£å†³æ³°æ‹‰ç‘äºšæ–°æ‰‹å¼•å¯¼ä¸è¶³çš„é—®é¢˜ï¼Œä¸ºç©å®¶æä¾›æ™ºèƒ½åŒ–ã€ä¸ªæ€§åŒ–çš„æ¸¸æˆæŒ‡å¼•

---

## ğŸ“‹ é¡¹ç›®æ„¿æ™¯

æ³°æ‹‰ç‘äºšæ˜¯ä¸€æ¬¾å†…å®¹æå…¶ä¸°å¯Œçš„æ²™ç›’æ¸¸æˆï¼Œä½†åŸç‰ˆçš„æ–°æ‰‹å¼•å¯¼éå¸¸è–„å¼±â€”â€”"å‘å¯¼"NPC çš„å¯¹è¯ä¿¡æ¯æœ‰é™ä¸”è¢«åŠ¨ã€‚è®¸å¤šç©å®¶åœ¨æ¸¸æˆä¸­æ„Ÿåˆ°è¿·èŒ«ï¼š

- â“ "æˆ‘ç°åœ¨è¯¥åšä»€ä¹ˆï¼Ÿ"
- â“ "è¿™ä¸ª Boss æˆ‘èƒ½æ‰“å—ï¼Ÿ"
- â“ "NPC ä¸ºä»€ä¹ˆè¿˜ä¸æ¥å…¥ä½ï¼Ÿ"
- â“ "è¿™ä»¶è£…å¤‡å¥½ç”¨å—ï¼Ÿ"

**GuideAI Mod** å°†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé€šè¿‡ AI æŠ€æœ¯ä¸ºæ¯ä½ç©å®¶æä¾›ï¼š

- ğŸ¯ **ä¸»çº¿æŒ‡å¼•** - æ ¹æ®å½“å‰è¿›åº¦æ™ºèƒ½æ¨èä¸‹ä¸€æ­¥ç›®æ ‡
- ğŸ’¬ **å®æ—¶é—®ç­”** - åƒæœ‹å‹ä¸€æ ·å›ç­”æ¸¸æˆä¸­çš„ä»»ä½•ç–‘é—®
- ğŸ“Š **è¿›åº¦è¿½è¸ª** - è‡ªåŠ¨æ£€æµ‹ Boss å‡»æ€ã€NPC å…¥é©»ã€è£…å¤‡æ°´å¹³
- ğŸ—ºï¸ **ä¸ªæ€§åŒ–å»ºè®®** - æ ¹æ®èŒä¸š/ç©æ³•é£æ ¼ç»™å‡ºå®šåˆ¶å»ºè®®

---

## ğŸ® æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. æ¸¸æˆå†… AI åŠ©æ‰‹ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§™ AI å‘å¯¼                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [å‘å¯¼å¤´åƒ]                               â”‚
â”‚  ä½ å¥½ï¼æ£€æµ‹åˆ°ä½ å·²ç»å‡»è´¥äº†å…‹è‹é²ä¹‹çœ¼ï¼Œ     â”‚
â”‚  ä¸‹ä¸€æ­¥å»ºè®®æŒ‘æˆ˜ä¸–ç•Œåå™¬è€…æˆ–å…‹è‹é²ä¹‹è„‘ã€‚   â”‚
â”‚                                         â”‚
â”‚  ğŸ“Š ä½ çš„è¿›åº¦:                            â”‚
â”‚  âœ… å…‹è‹é²ä¹‹çœ¼    â¬œ ä¸–ç•Œåå™¬è€…           â”‚
â”‚  â¬œ éª·é«…ç‹        âœ… 6/23 NPC å·²å…¥é©»     â”‚
â”‚                                         â”‚
â”‚  ğŸ’¬ æœ‰é—®é¢˜éšæ—¶é—®æˆ‘ï¼                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [è¾“å…¥é—®é¢˜...]              [å‘é€]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç•Œé¢ç‰¹æ€§**:
- æ‚¬æµ®/å¯æ‹–æ‹½çª—å£ï¼ˆç±»ä¼¼ Journey Mode èœå•ï¼‰
- æ”¯æŒæ–‡å­—è¾“å…¥å’Œå¿«æ·é—®é¢˜æŒ‰é’®
- å¯¹è¯å†å²è®°å½•
- å¯æœ€å°åŒ–ä¸ºå±å¹•è¾¹ç¼˜çš„å°å›¾æ ‡

### 2. è¿›åº¦è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿ

| æ£€æµ‹ç»´åº¦ | å…·ä½“å®ç° | ç”¨é€” |
|---------|---------|------|
| **Boss è¿›åº¦** | ç›‘å¬ `NPC.downedXXX` å­—æ®µ | åˆ¤æ–­ä¸»çº¿é˜¶æ®µ |
| **NPC å…¥é©»** | æ‰«æ `WorldGen.houseCount` + NPC ç±»å‹ | æ£€æŸ¥ä½æˆ¿/ç¼ºå¤± NPC |
| **è£…å¤‡æ°´å¹³** | è¯»å–ç©å®¶ `armor[]` + `inventory[]` | è¯„ä¼°æˆ˜æ–—åŠ› |
| **æ¸¸æˆé˜¶æ®µ** | `Main.hardMode` / `NPC.downedMoonlord` | åŒºåˆ†è‚‰å‰/è‚‰å/æ¯•ä¸š |
| **å½“å‰ç”Ÿç‰©ç¾¤ç³»** | `player.ZoneXxx` å±æ€§ | ç¯å¢ƒå±é™©æç¤º |

### 3. æ™ºèƒ½æ¨èå¼•æ“

åŸºäºè¿›åº¦çš„æ¨èé€»è¾‘ç¤ºä¾‹ï¼š

```csharp
// ä¼ªä»£ç 
if (!downedEyeOfCthulhu) {
    return "å»ºè®®å…ˆæ‰“å…‹è‹é²ä¹‹çœ¼ã€‚å‡†å¤‡ï¼š
            1. å‰‘/å¼“æ­¦å™¨ï¼Œé“¶ç”²ä»¥ä¸Š
            2. å»ºé€ é•¿å¹³å°è·‘é“
            3. ç”Ÿå‘½æ°´æ™¶åˆ° 200+";
}
else if (!downedEaterOfWorlds && !downedBrainOfCthulhu) {
    return "å¯æŒ‘æˆ˜ä¸–ç•Œåå™¬è€…/å…‹è‹é²ä¹‹è„‘ã€‚
            æç¤ºï¼šè…åŒ–/è¡€è…¥ä¸–ç•Œä¸åŒï¼Œå‡†å¤‡ç©¿é€æ­¦å™¨";
}
// ... æ›´å¤šé˜¶æ®µ
```

### 4. å¯¹è¯ç³»ç»ŸåŠŸèƒ½

ç©å®¶å¯ä»¥é—®çš„é—®é¢˜ç±»å‹ï¼š

| ç±»åˆ« | ç¤ºä¾‹é—®é¢˜ |
|------|---------|
| **æ”»ç•¥å’¨è¯¢** | "ä¸–çºªä¹‹èŠ±æ€ä¹ˆæ‰“ï¼Ÿ" |
| **è£…å¤‡æ¨è** | "æˆ˜å£«è‚‰å±±å‰ç”¨ä»€ä¹ˆæ­¦å™¨ï¼Ÿ" |
| **NPC æ¡ä»¶** | "æŠ¤å£«æ€ä¹ˆè¿˜ä¸æ¥ï¼Ÿ" |
| **åˆæˆæŸ¥è¯¢** | "æ°¸å¤œåˆƒæ€ä¹ˆåˆæˆï¼Ÿ" |
| **ç¯å¢ƒä¿¡æ¯** | "ç¥åœ£ä¹‹åœ°æœ‰ä»€ä¹ˆå±é™©ï¼Ÿ" |
| **è¿›åº¦è¯Šæ–­** | "æˆ‘ç°åœ¨èƒ½æ‰“è¿‡éª·é«…ç‹å—ï¼Ÿ" |

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | æè¿° | ä¼˜ç‚¹ | ç¼ºç‚¹ | æ¨èåº¦ |
|------|------|------|------|--------|
| **A. äº‘ç«¯ LLM API** | ç›´æ¥è°ƒç”¨ OpenAI/Claude/DeepSeek ç­‰ API | æ™ºèƒ½ç¨‹åº¦é«˜ã€æ— éœ€æœ¬åœ°èµ„æºã€çŸ¥è¯†è¦†ç›–å¹¿ | éœ€è¦ç½‘ç»œã€æœ‰å»¶è¿Ÿã€å¯èƒ½æœ‰è´¹ç”¨ | â­â­â­â­â­ |
| **B. æœ¬åœ° LLM** | æœ¬åœ°è¿è¡Œ Llama/ChatGLM ç­‰å°æ¨¡å‹ | æ— éœ€ç½‘ç»œã€éšç§å¥½ã€é›¶å»¶è¿Ÿ | éœ€è¦é«˜é…ç”µè„‘ã€æ¨¡å‹å ç”¨å¤§ã€å›ç­”è´¨é‡è¾ƒä½ | â­â­â­ |
| **C. çº¯è§„åˆ™ç³»ç»Ÿ** | æ‰‹å†™ if-else + æœ¬åœ°çŸ¥è¯†åº“ | é›¶å»¶è¿Ÿã€ç¦»çº¿å¯ç”¨ã€ç¡®å®šæ€§å¼º | ä¸å¤Ÿæ™ºèƒ½ã€ç»´æŠ¤æˆæœ¬é«˜ã€æ— æ³•å›ç­”æ„å¤–é—®é¢˜ | â­â­ |

### ğŸ¯ æ¨èæ–¹æ¡ˆï¼šäº‘ç«¯ API + æœ¬åœ°ç¼“å­˜æ··åˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ¸¸æˆå†… Mod ç•Œé¢                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  UI æ¸²æŸ“å±‚    â”‚  â”‚  è¿›åº¦æ£€æµ‹å™¨   â”‚  â”‚  æœ¬åœ°çŸ¥è¯†åº“   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                           â–¼                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              AI å¯¹è¯ç®¡ç†å™¨                      â”‚  â”‚
â”‚  â”‚  - æ„å»º Promptï¼ˆæ¸¸æˆçŠ¶æ€ + ç©å®¶é—®é¢˜ï¼‰            â”‚  â”‚
â”‚  â”‚  - ç®¡ç†å¯¹è¯å†å²                                 â”‚  â”‚
â”‚  â”‚  - ç¼“å­˜å¸¸è§å›ç­”                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                        â–¼                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              API é€šä¿¡å±‚                         â”‚  â”‚
â”‚  â”‚  - ç½‘ç»œè¯·æ±‚ï¼ˆå¼‚æ­¥ï¼Œä¸å¡é¡¿æ¸¸æˆï¼‰                   â”‚  â”‚
â”‚  â”‚  - å¤±è´¥é™çº§åˆ°æœ¬åœ°çŸ¥è¯†åº“                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              äº‘ç«¯ AI APIï¼ˆå¦‚ DeepSeek/ChatGPTï¼‰       â”‚
â”‚         + å‘é‡æ•°æ®åº“ï¼ˆRAG - æ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ å…·ä½“å®ç°æ–¹æ¡ˆ

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€ Mod æ¡†æ¶ï¼ˆ1-2 å‘¨ï¼‰

1. **Mod åŸºç¡€ç»“æ„**
   ```
   GuideAIMod/
   â”œâ”€â”€ GuideAIMod.cs
   â”œâ”€â”€ GuideAIMod.csproj
   â”œâ”€â”€ build.txt
   â”œâ”€â”€ description.txt
   â”œâ”€â”€ UI/
   â”‚   â”œâ”€â”€ GuideUI.cs          # ä¸»ç•Œé¢
   â”‚   â”œâ”€â”€ ChatPanel.cs        # èŠå¤©é¢æ¿
   â”‚   â””â”€â”€ MinimizeButton.cs   # æœ€å°åŒ–æŒ‰é’®
   â”œâ”€â”€ Systems/
   â”‚   â”œâ”€â”€ ProgressTracker.cs  # è¿›åº¦æ£€æµ‹
   â”‚   â”œâ”€â”€ LocalKnowledge.cs   # æœ¬åœ°çŸ¥è¯†åº“
   â”‚   â””â”€â”€ APIManager.cs       # API é€šä¿¡
   â””â”€â”€ Content/
       â””â”€â”€ Textures/
   ```

2. **æ ¸å¿ƒ Mod ç±»ç»“æ„**
   ```csharp
   public class GuideAIMod : Mod
   {
       internal static GuideAIMod Instance;
       public ProgressTracker Progress { get; private set; }
       public APIManager AI { get; private set; }
       
       public override void Load() {
           Instance = this;
           Progress = new ProgressTracker();
           AI = new APIManager();
       }
   }
   ```

### ç¬¬äºŒé˜¶æ®µï¼šè¿›åº¦æ£€æµ‹ç³»ç»Ÿï¼ˆ1 å‘¨ï¼‰

```csharp
public class ProgressTracker : ModSystem
{
    // Boss å‡»æ€çŠ¶æ€
    public bool DownedEyeOfCthulhu => NPC.downedBoss1;
    public bool DownedEaterOfWorlds => NPC.downedBoss2;
    public bool DownedSkeletron => NPC.downedBoss3;
    public bool HardMode => Main.hardMode;
    public bool DownedPlantera => NPC.downedPlantBoss;
    
    // NPC æ£€æµ‹
    public List<int> GetPresentNPCs() {
        return Main.npc
            .Where(n => n.active && n.townNPC)
            .Select(n => n.type)
            .ToList();
    }
    
    // è£…å¤‡è¯„ä¼°
    public EquipmentTier EvaluateGear(Player player) {
        int totalDefense = player.statDefense;
        int maxDPS = EstimateDPS(player);
        // è¿”å›è£…å¤‡ç­‰çº§è¯„ä¼°
    }
    
    // ç”Ÿæˆè¿›åº¦æŠ¥å‘Šï¼ˆç”¨äº AI Promptï¼‰
    public string GenerateProgressReport() {
        return $@"
å½“å‰æ¸¸æˆè¿›åº¦ï¼š
- å·²å‡»è´¥ Boss: {GetDefeatedBosses()}
- å·²å…¥é©» NPC: {GetPresentNPCs().Count}/23
- æ¸¸æˆé˜¶æ®µ: {(HardMode ? "å›°éš¾æ¨¡å¼" : "æ™®é€šæ¨¡å¼")}
- å½“å‰ç”Ÿç‰©ç¾¤ç³»: {GetCurrentBiome()}
";
    }
}
```

### ç¬¬ä¸‰é˜¶æ®µï¼šAI é›†æˆï¼ˆ2-3 å‘¨ï¼‰

#### æ¨è API æ–¹æ¡ˆ

| API | ç‰¹ç‚¹ | è´¹ç”¨ | é€‚åˆåœºæ™¯ |
|-----|------|------|---------|
| **DeepSeek** | ä¸­æ–‡å¼ºã€ä»£ç å¥½ã€ä»·æ ¼ä½ | Â¥0.001-0.003/1K tokens | ğŸ‡¨ğŸ‡³ é¦–é€‰ |
| **OpenAI GPT-4o** | æœ€å¼ºæ¨¡å‹ | $0.005-0.015/1K tokens | è‹±æ–‡ç”¨æˆ· |
| **Claude 3.5 Sonnet** | æ¨ç†å¼ºã€é•¿æ–‡æœ¬ | $0.003-0.015/1K tokens | å¤æ‚æ”»ç•¥ |
| **Kimi/é€šä¹‰åƒé—®** | å›½äº§ã€æ”¯æŒé•¿æ–‡æœ¬ | æœ‰å…è´¹é¢åº¦ | å¤‡ç”¨æ–¹æ¡ˆ |

#### API é€šä¿¡å®ç°

```csharp
public class APIManager
{
    private const string API_URL = "https://api.deepseek.com/v1/chat/completions";
    private string apiKey; // ä»é…ç½®æ–‡ä»¶è¯»å–
    
    // å¼‚æ­¥è¯·æ±‚ï¼Œä¸é˜»å¡æ¸¸æˆ
    public async Task<string> AskAI(string playerQuestion, string progressContext)
    {
        var prompt = BuildPrompt(playerQuestion, progressContext);
        
        var request = new {
            model = "deepseek-chat",
            messages = new[] {
                new { role = "system", content = GetSystemPrompt() },
                new { role = "user", content = prompt }
            },
            temperature = 0.7,
            max_tokens = 1000
        };
        
        // å‘é€ HTTP è¯·æ±‚
        var response = await PostAsync(API_URL, request);
        return ParseResponse(response);
    }
    
    private string BuildPrompt(string question, string progress) {
        return $@"ä½ æ˜¯æ³°æ‹‰ç‘äºšæ¸¸æˆä¸“å®¶å‘å¯¼ã€‚åŸºäºä»¥ä¸‹ç©å®¶çŠ¶æ€å›ç­”é—®é¢˜ï¼š

{progress}

ç©å®¶é—®é¢˜ï¼š{question}

è¯·ç”¨ä¸­æ–‡ç®€æ´å›ç­”ï¼ŒåŒ…å«å…·ä½“æ¸¸æˆä¿¡æ¯ï¼š";
    }
    
    private string GetSystemPrompt() {
        return @"ä½ æ˜¯æ³°æ‹‰ç‘äºšçš„ AI å‘å¯¼ã€‚ä½ ç†Ÿæ‚‰æ¸¸æˆçš„æ‰€æœ‰æœºåˆ¶ã€Bossæ”»ç•¥ã€NPCæ¡ä»¶ã€è£…å¤‡åˆæˆã€‚
å›ç­”é—®é¢˜è¦ï¼š
1. åŸºäºç©å®¶çš„å®é™…è¿›åº¦
2. ç»™å‡ºå…·ä½“å¯æ“ä½œçš„å»ºè®®
3. ç®€æ´æ˜äº†ï¼ˆ100-300å­—ï¼‰
4. å¿…è¦æ—¶åˆ—å‡ºå…³é”®ç‰©å“åç§°";
    }
}
```

### ç¬¬å››é˜¶æ®µï¼šRAG çŸ¥è¯†åº“é›†æˆï¼ˆ2 å‘¨ï¼‰

**ä¸ºä»€ä¹ˆè¦ç”¨ RAGï¼Ÿ**
- ç»´åŸºæ•°æ®é‡å¤ªå¤§ï¼ˆ5GBï¼‰ï¼Œä¸èƒ½æ¯æ¬¡å…¨å¡ç»™ AI
- éœ€è¦ç²¾å‡†æ£€ç´¢ç›¸å…³å†…å®¹
- é™ä½ API è´¹ç”¨ï¼ˆå‡å°‘ token æ•°ï¼‰

**å®ç°æ–¹æ¡ˆ**ï¼š

```
ç¦»çº¿å¤„ç†é˜¶æ®µï¼ˆå¼€å‘æ—¶æ‰§è¡Œï¼‰ï¼š
wiki_full_data/ â”€â”€â–º æ–‡æœ¬åˆ†å— â”€â”€â–º å‘é‡åŒ– â”€â”€â–º å‘é‡æ•°æ®åº“(Chroma/Milvus)
                                       â–²
                                       â”‚
åœ¨çº¿æŸ¥è¯¢é˜¶æ®µï¼ˆæ¸¸æˆè¿è¡Œæ—¶ï¼‰ï¼š          è¯­ä¹‰æ£€ç´¢
ç©å®¶é—®é¢˜ â”€â”€â–º å‘é‡åŒ– â”€â”€â–º å‘é‡æ£€ç´¢ â”€â”€â–º  Top-K ç›¸å…³æ®µè½
                                       â”‚
                                       â–¼
                               æ„å»º Prompt + è°ƒç”¨ LLM
```

**ç®€åŒ–ç‰ˆï¼ˆæ— éœ€å‘é‡æ•°æ®åº“ï¼‰**ï¼š
```csharp
public class LocalKnowledge
{
    // é¢„åŠ è½½æ ¸å¿ƒçŸ¥è¯†
    private Dictionary<string, string> bossGuides;
    private Dictionary<string, string> npcConditions;
    
    // å…³é”®è¯åŒ¹é…æ£€ç´¢
    public string RetrieveRelevantInfo(string query)
    {
        // ç®€å•å…³é”®è¯åŒ¹é…ï¼Œè¿”å›æœ€ç›¸å…³çš„å‡ æ®µå†…å®¹
        var keywords = ExtractKeywords(query);
        return SearchInKnowledgeBase(keywords);
    }
}
```

### ç¬¬äº”é˜¶æ®µï¼šUI å®Œå–„ï¼ˆ1-2 å‘¨ï¼‰

```csharp
public class GuideUI : UIState
{
    private UIPanel mainPanel;
    private UIText chatHistory;
    private UITextBox inputBox;
    
    public override void OnInitialize()
    {
        // ä¸»é¢æ¿
        mainPanel = new UIPanel();
        mainPanel.Width.Set(400, 0);
        mainPanel.Height.Set(500, 0);
        mainPanel.HAlign = 0.5f;
        mainPanel.VAlign = 0.5f;
        
        // èŠå¤©å†å²åŒº
        chatHistory = new UIText("ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„ AI å‘å¯¼ã€‚\n\n" +
            "æˆ‘ä¼šæ ¹æ®ä½ çš„æ¸¸æˆè¿›åº¦ç»™ä½ å»ºè®®ã€‚\n" +
            "æœ‰ä»€ä¹ˆé—®é¢˜éšæ—¶é—®æˆ‘ï¼");
        
        // è¾“å…¥æ¡†
        inputBox = new UITextBox("è¾“å…¥é—®é¢˜...");
        inputBox.OnTextSubmit += OnQuestionSubmit;
        
        Append(mainPanel);
    }
    
    private async void OnQuestionSubmit(UIMouseEvent evt, UIElement listeningElement)
    {
        string question = inputBox.Text;
        string progress = GuideAIMod.Instance.Progress.GenerateProgressReport();
        
        // æ˜¾ç¤ºåŠ è½½ä¸­
        chatHistory.SetText("æ€è€ƒä¸­...");
        
        // å¼‚æ­¥è°ƒç”¨ AI
        string answer = await GuideAIMod.Instance.AI.AskAI(question, progress);
        
        // æ˜¾ç¤ºå›ç­”
        chatHistory.SetText($"Q: {question}\n\nA: {answer}");
    }
}
```

---

## ğŸ“Š å¼€å‘è®¡åˆ’ä¸é‡Œç¨‹ç¢‘

| é˜¶æ®µ | æ—¶é—´ | ç›®æ ‡ | å¯äº¤ä»˜æˆæœ |
|------|------|------|-----------|
| **Phase 1** | Week 1-2 | Mod æ¡†æ¶ + è¿›åº¦æ£€æµ‹ | èƒ½æ˜¾ç¤ºç©å®¶å½“å‰ Boss è¿›åº¦ |
| **Phase 2** | Week 3-4 | AI API é›†æˆ | èƒ½å›ç­”åŸºç¡€é—®é¢˜ |
| **Phase 3** | Week 5-6 | çŸ¥è¯†åº“ RAG | å›ç­”å‡†ç¡®ã€æœ‰å‚è€ƒæ¥æº |
| **Phase 4** | Week 7-8 | UI ç¾åŒ– + ä¼˜åŒ– | æµç•…çš„èŠå¤©ç•Œé¢ |
| **Phase 5** | Week 9-10 | æµ‹è¯• + å‘å¸ƒ | Steam åˆ›æ„å·¥åŠä¸Šæ¶ |

---

## ğŸ’° æˆæœ¬ä¼°ç®—

### API è´¹ç”¨ï¼ˆäº‘ç«¯æ–¹æ¡ˆï¼‰

å‡è®¾å¹³å‡æ¯æ¬¡å¯¹è¯ 500 tokensï¼ˆè¾“å…¥ 300 + è¾“å‡º 200ï¼‰ï¼š

| ä½¿ç”¨é‡ | DeepSeek è´¹ç”¨ | OpenAI è´¹ç”¨ |
|--------|--------------|-------------|
| 1000 æ¬¡/æœˆ | Â¥1-3 | $1-3 |
| 10000 æ¬¡/æœˆ | Â¥10-30 | $10-30 |

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š
- å¸¸è§é—®é¢˜çš„å›ç­”æœ¬åœ°ç¼“å­˜
- ç›¸ä¼¼é—®é¢˜åˆå¹¶è¯·æ±‚
- æä¾›"ç®€å•æ¨¡å¼"ï¼ˆçº¯æœ¬åœ°çŸ¥è¯†åº“ï¼‰

### å¼€å‘æˆæœ¬

- ä¸ªäººå¼€å‘ï¼šå…è´¹ï¼ˆé™¤äº† API æµ‹è¯•è´¹ç”¨ï¼‰
- å¦‚éœ€ç¾æœ¯ï¼šå›¾æ ‡/UI çº¦ Â¥500-1000

---

## âš ï¸ æŠ€æœ¯éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ

| éš¾ç‚¹ | è§£å†³æ–¹æ¡ˆ |
|------|---------|
| **ç½‘ç»œå»¶è¿Ÿ** | å¼‚æ­¥è¯·æ±‚ + åŠ è½½åŠ¨ç”» + æœ¬åœ°ç¼“å­˜ |
| **API è´¹ç”¨** | æœ¬åœ°çŸ¥è¯†åº“å›ç­”å¸¸è§é—®é¢˜ï¼ŒAI å¤„ç†å¤æ‚é—®é¢˜ |
| **Mod å…¼å®¹æ€§** | ä½¿ç”¨ tML æ ‡å‡† APIï¼Œé¿å…ä¿®æ”¹åŸç‰ˆä»£ç  |
| **ä¸­æ–‡åˆ†è¯** | ä½¿ç”¨ RAG æ—¶é€‰æ‹©æ”¯æŒä¸­æ–‡çš„ embedding æ¨¡å‹ |
| **æ•°æ®æ›´æ–°** | æ¸¸æˆç‰ˆæœ¬æ›´æ–°æ—¶é‡æ–°çˆ¬å–ç»´åŸºæ•°æ® |

---

## ğŸš€ å‘å¸ƒä¸è¿è¥

### å‘å¸ƒæ¸ é“
1. **Steam åˆ›æ„å·¥åŠ**ï¼ˆä¸»è¦ï¼‰
2. **tModLoader Mod æµè§ˆå™¨**
3. **GitHub å¼€æº**ï¼ˆå¯é€‰ï¼‰

### å•†ä¸šæ¨¡å¼
- **å…è´¹ç‰ˆ**ï¼šåŸºç¡€é—®ç­” + æ¯æ—¥é™é¢
- **Pro ç‰ˆ**ï¼šè§£é”é«˜çº§åŠŸèƒ½ï¼ˆè‡ªå®šä¹‰ API Keyï¼‰

---

## ğŸ“ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **æ­å»ºå¼€å‘ç¯å¢ƒ**
   - å®‰è£… tModLoader
   - é…ç½® .NET å¼€å‘ç¯å¢ƒ
   - åˆ›å»ºåŸºç¡€ Mod æ¨¡æ¿

2. **è·å– API Key**
   - æ³¨å†Œ DeepSeek/OpenAI
   - æµ‹è¯• API è°ƒç”¨

3. **å‡†å¤‡çŸ¥è¯†åº“**
   - ä½¿ç”¨æœ¬é¡¹ç›®çˆ¬å–çš„ç»´åŸºæ•°æ®
   - æ„å»ºå‘é‡æ•°æ®åº“

4. **å¼€å§‹ç¼–ç **
   - å…ˆå®ç°è¿›åº¦æ£€æµ‹
   - å†é›†æˆ AI å¯¹è¯

---

## ğŸ”— ç›¸å…³èµ„æº

- **tModLoader Wiki**: https://github.com/tModLoader/tModLoader/wiki
- **Mod å¼€å‘æŒ‡å—**: https://docs.tmodloader.net/
- **æœ¬é¡¹ç›®çŸ¥è¯†åº“**: `ai_knowledge_base.json`ï¼ˆå·²çˆ¬å– 19979 ä¸ªé¡µé¢ï¼‰
- **API å‚è€ƒ**: DeepSeek / OpenAI / Claude å®˜æ–¹æ–‡æ¡£

---

**æ€»ç»“**ï¼šè¿™ä¸ª Mod æŠ€æœ¯ä¸Šå®Œå…¨å¯è¡Œï¼Œæ ¸å¿ƒåœ¨äº **è¿›åº¦æ£€æµ‹ + AI API + RAG çŸ¥è¯†åº“** çš„ç»„åˆã€‚æ¨èä½¿ç”¨ **DeepSeek API + æœ¬åœ°å‘é‡æ•°æ®åº“** æ–¹æ¡ˆï¼Œæ—¢ä¿è¯ä¸­æ–‡å›ç­”è´¨é‡ï¼Œåˆèƒ½æ§åˆ¶æˆæœ¬ã€‚
